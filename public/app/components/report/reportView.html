<div class="panel panel-primary">
    <!-- Default panel contents -->
    <div class="panel-heading">
        <strong>Reports</strong>&nbsp;
        <button class="btn btn-xs btn-default pull-right " ng-click="reportList.new()"><i class="fa fa-plus-square"></i> New</button>
    </div>

    <div class="alert alert-success" role="alert" ng-show="reportList.message">{{reportList.message}}</div>
    <div class="alert alert-danger" role="alert" ng-show="reportList.error">{{reportList.error}}</div>

    <table class="table table-striped" ng-if="reportList.reports">
        <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Created at</th>
            <th>Evaluated at</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr dir-paginate="report in reportList.reports | orderBy: ['evaluated_at', 'created_at'] | itemsPerPage: 10">
            <td>{{report.id}}</td>
            <td><a role="button" ui-sref="report-edit({reportId: report.id})">{{report.name}}</a></td>
            <td>{{report.created_at}}</td>
            <td>{{report.evaluated_at}}</td>
            <td><button class="btn btn-xs btn-default" role="button" ng-disabled="!report.evaluated_at" ui-sref="report-view({reportId: report.id})"><i class="fa fa-table"></i> Results</button></td>
            <td>
                <button class="btn btn-xs btn-warning" ng-show="report.evaluated_at" ng-click="reportList.generate(report.id)" confirm="Are you sure you want to recalculate this report? Previous results will be lost."><i class="fa fa-cog"></i> Generate</button>
                <button class="btn btn-xs btn-success" ng-hide="report.evaluated_at" ng-click="reportList.generate(report.id)"><i class="fa fa-cog"></i> Generate</button>
            </td>
            <td><button class="btn btn-xs btn-danger" ng-click="reportList.delete(report.id)" confirm="Are you sure you want to delete this report?"><i class="fa fa-remove"></i> Delete</button></td>
        </tr>
        </tbody>
    </table>

    <div class="panel-footer">
        <div class="text-center"><dir-pagination-controls></dir-pagination-controls></div>
    </div>

</div>